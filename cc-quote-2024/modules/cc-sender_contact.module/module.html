{# Contact section with information about the sender, including optional HubSpot avatar #}
{% from '../../imports/mock_data.html' import SAMPLE_TEMPLATE_DATA as mock_data %}
{% set QUOTE = template_data.quote || mock_data.quote %}
{% set HUBSPOT_BASE_URL = template_data.hubspot_base_url || mock_data.hubspot_base_url %}
{% set IMAGE_ID = "sender-user-avatar" %}
<div class="cc-sender" >
{% if module.heading_text %}
  <{{ module.heading_tag }}>{{ module.heading_text }}</{{ module.heading_tag }}>
{% endif %}

{% if module.include_hubspot_avatar %}
  <div class="image">
    <img width="{{ module.style.width_avatar }}"
      src="https://static.hsappstatic.net/salesImages/static-1.362/avatars/default-avatar.png"
      alt="Sender avatar"
      id="{{ IMAGE_ID }}"
    />
  </div>
{% endif %}
  <div class="info">
       <strong>{{ ptoken_sender_full_name }}</strong><br>
      {% if module.company_sender_on %}
            {{ personalization_token('template_data.quote.hs_sender_company_name', '') }}
      {% endif %}
      {% if module.contact_info_on %}
         {{ module.contact_information }}
        {# DO NOT EDIT - used for sender's HubSpot user avatar #}
        {% require_js position="head" %}
          <script type="application/json" data-module-instance="user-avatar">
            {
              "include_hubspot_avatar": {{ module.include_hubspot_avatar }},
              "hubspot_user_email": "{{ QUOTE.hs_sender_email }}",
              "hubspot_base_url": "{{ HUBSPOT_BASE_URL }}",
              "image_id": "{{ IMAGE_ID }}"
            }
          </script>
        {% end_require_js %}
    {% endif %}   
  </div>
</div>
{% require_css %}
  <style>
  .cc-sender{
     display: flex; 
     background-color:rgba({{ module.style.background_color.color|convert_rgb }}, {{ module.style.background_color.opacity }}%);
     color:{{ module.style.text_color.color }};
  }
  </style>
{% end_require_css %}